diff -Naur lirc-0.8.3.orig/drivers/lirc_dev/lirc_dev.c lirc-0.8.3/drivers/lirc_dev/lirc_dev.c
--- lirc-0.8.3.orig/drivers/lirc_dev/lirc_dev.c	2008-06-28 12:24:39.000000000 +0200
+++ lirc-0.8.3/drivers/lirc_dev/lirc_dev.c	2008-08-31 19:34:31.000000000 +0200
@@ -49,7 +49,11 @@
 #include <linux/uaccess.h>
 #include <linux/errno.h>
 #endif
-#include <asm/semaphore.h>
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 27)
+#include <asm/semaphore.h> 	 #include <asm/semaphore.h>
+#else
+#include <linux/semaphore.h>
+#endif
 #if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 0)
 #include <linux/wrapper.h>
 #endif
diff -Naur lirc-0.8.3.orig/drivers/lirc_i2c/lirc_i2c.c lirc-0.8.3/drivers/lirc_i2c/lirc_i2c.c
--- lirc-0.8.3.orig/drivers/lirc_i2c/lirc_i2c.c	2008-06-28 12:24:39.000000000 +0200
+++ lirc-0.8.3/drivers/lirc_i2c/lirc_i2c.c	2008-08-31 19:36:19.000000000 +0200
@@ -54,7 +54,11 @@
 #include <linux/i2c.h>
 #include <linux/i2c-algo-bit.h>
 
-#include <asm/semaphore.h>
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 27)
+#include <asm/semaphore.h> 	 #include <asm/semaphore.h>
+#else
+#include <linux/semaphore.h>
+#endif
 
 #include "drivers/kcompat.h"
 #include "drivers/lirc_dev/lirc_dev.h"
