#!/bin/sh

GST_VERSION=0.10
GST_PLUGINS_PATH=$INSTALL/usr/lib/gstreamer-$GST_VERSION

gst_install_plugin () {
  PLUGIN_TYPE="$1"
  PLUGIN_PATH="$2"
  PLUGIN_NAME="$3"

  cp -P $BUILD/gst-plugins-good-*/$PLUGIN_TYPE/$PLUGIN_PATH/.libs/libgst${PLUGIN_NAME}.so $GST_PLUGINS_PATH
}

. config/options

gst_install_plugin gst matroska matroska
gst_install_plugin gst effectv effectv
gst_install_plugin gst multifile multifile
gst_install_plugin gst cutter cutter
gst_install_plugin gst wavparse wavparse
gst_install_plugin gst flx flxdec
gst_install_plugin gst id3demux id3demux
gst_install_plugin gst videomixer videomixer
gst_install_plugin gst avi avi
gst_install_plugin gst videobox videobox
gst_install_plugin gst flv flv
gst_install_plugin gst autodetect autodetect
gst_install_plugin gst debugutils debug
gst_install_plugin gst debugutils navigationtest
gst_install_plugin gst rtpmanager rtpmanager
gst_install_plugin gst law mulaw
gst_install_plugin gst law alaw
gst_install_plugin gst equalizer equalizer
gst_install_plugin gst alpha alpha
gst_install_plugin gst alpha alphacolor
gst_install_plugin gst smpte smpte
gst_install_plugin gst videocrop videocrop
gst_install_plugin gst audiofx audiofx
gst_install_plugin gst videofilter videobalance
gst_install_plugin gst videofilter videoflip
gst_install_plugin gst videofilter gamma
gst_install_plugin gst rtp rtp
gst_install_plugin gst apetag apetag
gst_install_plugin gst multipart multipart
gst_install_plugin gst interleave interleave
gst_install_plugin gst auparse auparse
gst_install_plugin gst deinterlace deinterlace
gst_install_plugin gst rtsp rtsp
gst_install_plugin gst level level
gst_install_plugin gst udp udp

[ "$PULSEAUDIO" = yes ] && gst_install_plugin ext pulse pulse
[ "$XORG" = yes ] && gst_install_plugin sys ximage ximagesrc

exit 0
