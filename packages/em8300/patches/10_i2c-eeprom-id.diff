diff -Naur em8300-0.16.4.orig/modules/em8300_i2c.c em8300-0.16.4/modules/em8300_i2c.c
--- em8300-0.16.4.orig/modules/em8300_i2c.c	2008-04-05 22:11:06.000000000 +0200
+++ em8300-0.16.4/modules/em8300_i2c.c	2008-04-05 22:12:48.000000000 +0200
@@ -35,6 +35,10 @@
 
 #define I2C_HW_B_EM8300 0xa
 
+#ifndef I2C_DRIVERID_EEPROM
+#define I2C_DRIVERID_EEPROM 1005
+#endif /* I2C_DRIVERID_EEPROM */
+
 struct private_data_s {
 	int clk;
 	int data;
