continuation of 700_player-dvdnav.diff (see it for more information)
which conflicted with geexbox patches.

diff -Nur MPlayer-1.0rc1.orig/mplayer.c MPlayer-1.0rc1/mplayer.c
--- MPlayer-1.0rc1.orig/mplayer.c	2006-12-04 00:15:50.000000000 +0100
+++ MPlayer-1.0rc1/mplayer.c	2006-12-04 00:18:50.000000000 +0100
@@ -3868,7 +3868,11 @@
 
 //================== Read SUBTITLES (DVD & TEXT) ==========================
 if(vo_spudec==NULL && sh_video &&
-     (stream->type==STREAMTYPE_DVD || demuxer->type==DEMUXER_TYPE_MATROSKA)){
+     (stream->type==STREAMTYPE_DVD || demuxer->type==DEMUXER_TYPE_MATROSKA ||
+#ifdef USE_DVDNAV
+	stream->type==STREAMTYPE_DVDNAV
+#endif
+       )){
 
 if (spudec_ifo) {
   unsigned int palette[16], width, height;
@@ -4406,6 +4410,30 @@
 	// get it!
 	current_module="video_read_frame";
         in_size=video_read_frame(sh_video,&next_frame_time,&start,force_fps);
+#ifdef USE_DVDNAV
+	if (stream->type==STREAMTYPE_DVDNAV)
+	  {
+//	  if (dvdnav_reallyeof((dvdnav_priv_t*)(stream->priv)))
+	  if (stream_control(stream,STREAM_CTRL_DVDNAV_REALLYEOF,NULL)==STREAM_OK)
+	    {
+	    eof=1;
+	    break;
+	    }
+	  if (in_size<0)
+	    {
+	    sh_video->num_frames++;
+	    sh_video->num_frames_decoded++;
+	    sh_video->pts+=next_frame_time;
+	    }
+	  sh_video->config_lock=1;
+	  } else {
+	  if(in_size<0)
+	    {
+	    eof=1;
+	    break;
+	    }
+	  }
+#else
 	if(in_size<0){
 	  if(bg_demuxer) {
 	    if(!demux_seek(bg_demuxer,0,0,1))
@@ -4416,6 +4444,7 @@
 	    eof=1;
 	  break;
 	}
+#endif
 	if(in_size>max_framesize) max_framesize=in_size; // stats
 	sh_video->timer+=frame_time;
 	if(sh_audio) sh_audio->delay-=frame_time;
