PKG_NAME=MPlayer
PKG_URL="GEEXBOX_SRCS/MPlayer-r31635.tar.bz2"
PKG_VERSION=r30437
PKG_REV=1
PKG_BUILD_DEPENDS="toolchain zlib ffmpeg freetype alsa-lib fribidi libcdio faad2 libpng libbluray"
PKG_DEPENDS="$TARGET_LIBC zlib ffmpeg freetype alsa-lib fribidi libcdio libpng faad2 libbluray"

PKG_USE="uclibc vdpau sdl xorg"
PKG_USE_uclibc_DEPENDS="libiconv"
PKG_USE_vdpau_DEPENDS="libvdpau"
PKG_USE_sdl_DEPENDS="SDL"
PKG_USE_xorg_DEPENDS="libX11 libXv libXxf86vm"

if [ "${PKG_NAME}_unrar" = yes ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS unrar"
  PKG_DEPENDS="$PKG_DEPENDS unrar"
fi
if [ "${PKG_NAME}_live555" = yes ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS live"
fi
PKG_KCONFIG_EXTRA="config GX_${PKG_NAME}_unrar
  bool \"Enable unrar support\"
  depends on PKG_MPlayer
  select PKG_unrar
  default n

config GX_${PKG_NAME}_live555
  bool \"Enable LIVE555 support\"
  depends on PKG_MPlayer
  select PKG_live
  default n
"
PKG_PRIORITY=standard
PKG_SECTION=video
PKG_SHORT_DESC="movie player for Unix-like systems"
PKG_LONG_DESC="MPlayer plays most MPEG, VOB, AVI, Ogg/OGM, VIVO, ASF/WMA/WMV, QT/MOV/MP4, FLI, RM, NuppelVideo, yuv4mpeg, FILM, RoQ, PVA files, supported by many native, XAnim, RealPlayer, and Win32 DLL codecs. It can also play VideoCD, SVCD, DVD, 3ivx, RealMedia, and DivX movies. Another big feature of MPlayer is the wide range of supported output drivers. It works with X11, Xv, DGA, OpenGL, SVGAlib, fbdev, DirectFB, but also SDL (plus all its drivers) and some low level card-specific drivers (for Matrox, 3Dfx and Radeon, Mach64 and Permedia3). Most of them support software or hardware scaling, therefore allowing fullscreen display. MPlayer is also able to use some hardware MPEG decoder boards, such as the DVB and DXR3/Hollywood+."
