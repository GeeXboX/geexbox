PKG_NAME=MPlayer
PKG_VERSION=r30437
PKG_REV=1
PKG_BUILD_DEPENDS="toolchain zlib ffmpeg freetype alsa-lib fribidi libcdio faad2 libpng libbluray"
PKG_DEPENDS="$TARGET_LIBC zlib ffmpeg freetype alsa-lib fribidi libcdio libpng faad2 libbluray"
if [ "$TARGET_LIBC" = "uClibc" ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS libiconv"
  PKG_DEPENDS="$PKG_DEPENDS libiconv"
fi
if [ "$VDPAU" = yes ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS libvdpau"
  PKG_DEPENDS="$PKG_DEPENDS libvdpau"
fi
if [ "$SDL" = yes ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS SDL"
  PKG_DEPENDS="$PKG_DEPENDS SDL"
fi
if [ "$MPLAYER_UNRAR" = yes ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS unrar"
  PKG_DEPENDS="$PKG_DEPENDS unrar"
fi
if [ "$XORG" = yes ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS libX11 libXv libXxf86vm"
  PKG_DEPENDS="$PKG_DEPENDS libX11 libXv libXxf86vm"
fi
if [ "$MPLAYER_LIVE555" = yes ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS live"
fi
if [ "$TARGET_ARCH" = i386 ]; then
  PKG_BUILD_DEPENDS="$PKG_BUILD_DEPENDS vesautils"
  PKG_DEPENDS="$PKG_DEPENDS vesautils"
fi
PKG_KCONFIG_DEPENDS="
  select PKG_libiconv if TARGET_LIBC_UCLIBC
  select PKG_libvdpau if GX_VDPAU
  select PKG_vesautils if TARGET_ARCH_i386
  select PKG_libX11 if GX_XORG
  select PKG_libXv if GX_XORG
  select PKG_SDL if GX_SDL
"
PKG_KCONFIG_EXTRA="config GX_MPLAYER_UNRAR
  bool \"Enable unrar support\"
  depends on PKG_MPlayer
  select PKG_unrar
  default n

config GX_MPLAYER_LIVE555
  bool \"Enable LIVE555 support\"
  depends on PKG_MPlayer
  select PKG_live
  default n
"
PKG_PRIORITY=standard
PKG_SECTION=video
PKG_SHORT_DESC="movie player for Unix-like systems"
PKG_LONG_DESC="MPlayer plays most MPEG, VOB, AVI, Ogg/OGM, VIVO, ASF/WMA/WMV, QT/MOV/MP4, FLI, RM, NuppelVideo, yuv4mpeg, FILM, RoQ, PVA files, supported by many native, XAnim, RealPlayer, and Win32 DLL codecs. It can also play VideoCD, SVCD, DVD, 3ivx, RealMedia, and DivX movies. Another big feature of MPlayer is the wide range of supported output drivers. It works with X11, Xv, DGA, OpenGL, SVGAlib, fbdev, DirectFB, but also SDL (plus all its drivers) and some low level card-specific drivers (for Matrox, 3Dfx and Radeon, Mach64 and Permedia3). Most of them support software or hardware scaling, therefore allowing fullscreen display. MPlayer is also able to use some hardware MPEG decoder boards, such as the DVB and DXR3/Hollywood+."
