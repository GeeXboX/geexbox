# geexbox custom udev rules for device-mapper disk devices

ACTION!="add|change", GOTO="dm_end"
ENV{DM_NAME}!="?*", GOTO="dm_end"

SYMLINK+="disk/by-id/dm-name-$env{DM_NAME}"
ENV{DM_UUID}=="?*", SYMLINK+="disk/dm-uuid-$env{DM_UUID}"

IMPORT{program}="/sbin/blkid -o udev -p $tempnode"

ENV{ID_FS_USAGE}=="filesystem|other", ENV{ID_FS_LABEL_ENC}=="?*", SYMLINK+="disk/by-label/$env{ID_FS_LABEL_ENC}"

LABEL="dm_end"
