diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-2430sdp.c linux-2.6.33.5/arch/arm/mach-omap2/board-2430sdp.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-2430sdp.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-2430sdp.c
@@ -215,7 +215,7 @@
 static void __init omap_2430sdp_map_io(void)
 {
 	omap2_set_globals_243x();
-	omap2_map_common_io();
+	omap243x_map_common_io();
 }
 
 MACHINE_START(OMAP_2430SDP, "OMAP2430 sdp2430 board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-3430sdp.c linux-2.6.33.5/arch/arm/mach-omap2/board-3430sdp.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-3430sdp.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-3430sdp.c
@@ -674,7 +674,7 @@
 static void __init omap_3430sdp_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(OMAP_3430SDP, "OMAP3430 3430SDP board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-4430sdp.c linux-2.6.33.5/arch/arm/mach-omap2/board-4430sdp.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-4430sdp.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-4430sdp.c
@@ -87,7 +87,7 @@
 static void __init omap_4430sdp_map_io(void)
 {
 	omap2_set_globals_443x();
-	omap2_map_common_io();
+	omap44xx_map_common_io();
 }
 
 MACHINE_START(OMAP_4430SDP, "OMAP4430 4430SDP board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-am3517evm.c linux-2.6.33.5/arch/arm/mach-omap2/board-am3517evm.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-am3517evm.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-am3517evm.c
@@ -83,7 +83,7 @@
 static void __init am3517_evm_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(OMAP3517EVM, "OMAP3517/AM3517 EVM")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-apollon.c linux-2.6.33.5/arch/arm/mach-omap2/board-apollon.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-apollon.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-apollon.c
@@ -337,7 +337,7 @@
 static void __init omap_apollon_map_io(void)
 {
 	omap2_set_globals_242x();
-	omap2_map_common_io();
+	omap242x_map_common_io();
 }
 
 MACHINE_START(OMAP_APOLLON, "OMAP24xx Apollon")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-cm-t35.c linux-2.6.33.5/arch/arm/mach-omap2/board-cm-t35.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-cm-t35.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-cm-t35.c
@@ -479,7 +479,7 @@
 static void __init cm_t35_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 static struct omap_board_mux board_mux[] __initdata = {
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-generic.c linux-2.6.33.5/arch/arm/mach-omap2/board-generic.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-generic.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-generic.c
@@ -50,7 +50,7 @@
 static void __init omap_generic_map_io(void)
 {
 	omap2_set_globals_242x(); /* should be 242x, 243x, or 343x */
-	omap2_map_common_io();
+	omap242x_map_common_io();
 }
 
 MACHINE_START(OMAP_GENERIC, "Generic OMAP24xx")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-h4.c linux-2.6.33.5/arch/arm/mach-omap2/board-h4.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-h4.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-h4.c
@@ -370,7 +370,7 @@
 static void __init omap_h4_map_io(void)
 {
 	omap2_set_globals_242x();
-	omap2_map_common_io();
+	omap242x_map_common_io();
 }
 
 MACHINE_START(OMAP_H4, "OMAP2420 H4 board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-igep0020.c linux-2.6.33.5/arch/arm/mach-omap2/board-igep0020.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-igep0020.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-igep0020.c
@@ -246,7 +246,7 @@
 static void __init igep2_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(IGEP0020, "IGEP v2 board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-ldp.c linux-2.6.33.5/arch/arm/mach-omap2/board-ldp.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-ldp.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-ldp.c
@@ -404,7 +404,7 @@
 static void __init omap_ldp_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(OMAP_LDP, "OMAP LDP board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-n8x0.c linux-2.6.33.5/arch/arm/mach-omap2/board-n8x0.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-n8x0.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-n8x0.c
@@ -99,7 +99,7 @@
 static void __init n8x0_map_io(void)
 {
 	omap2_set_globals_242x();
-	omap2_map_common_io();
+	omap242x_map_common_io();
 }
 
 static void __init n8x0_init_irq(void)
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-omap3beagle.c linux-2.6.33.5/arch/arm/mach-omap2/board-omap3beagle.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-omap3beagle.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-omap3beagle.c
@@ -533,7 +533,7 @@
 static void __init omap3_beagle_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(OMAP3_BEAGLE, "OMAP3 Beagle Board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-omap3evm.c linux-2.6.33.5/arch/arm/mach-omap2/board-omap3evm.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-omap3evm.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-omap3evm.c
@@ -478,7 +478,7 @@
 static void __init omap3_evm_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(OMAP3EVM, "OMAP3 EVM")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-omap3pandora.c linux-2.6.33.5/arch/arm/mach-omap2/board-omap3pandora.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-omap3pandora.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-omap3pandora.c
@@ -423,7 +423,7 @@
 static void __init omap3pandora_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(OMAP3_PANDORA, "Pandora Handheld Console")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-omap3touchbook.c linux-2.6.33.5/arch/arm/mach-omap2/board-omap3touchbook.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-omap3touchbook.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-omap3touchbook.c
@@ -633,7 +633,7 @@
 static void __init omap3_touchbook_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(TOUCHBOOK, "OMAP3 touchbook Board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-overo.c linux-2.6.33.5/arch/arm/mach-omap2/board-overo.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-overo.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-overo.c
@@ -469,7 +469,7 @@
 static void __init overo_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(OVERO, "Gumstix Overo")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-rx51.c linux-2.6.33.5/arch/arm/mach-omap2/board-rx51.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-rx51.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-rx51.c
@@ -93,7 +93,7 @@
 static void __init rx51_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(NOKIA_RX51, "Nokia RX-51 board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/board-zoom2.c linux-2.6.33.5/arch/arm/mach-omap2/board-zoom2.c
--- linux-2.6.33.5/arch/arm/mach-omap2/board-zoom2.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/board-zoom2.c
@@ -87,7 +87,7 @@
 static void __init omap_zoom2_map_io(void)
 {
 	omap2_set_globals_343x();
-	omap2_map_common_io();
+	omap34xx_map_common_io();
 }
 
 MACHINE_START(OMAP_ZOOM2, "OMAP Zoom2 board")
diff --git linux-2.6.33.5/arch/arm/mach-omap2/io.c linux-2.6.33.5/arch/arm/mach-omap2/io.c
--- linux-2.6.33.5/arch/arm/mach-omap2/io.c
+++ linux-2.6.33.5/arch/arm/mach-omap2/io.c
@@ -234,25 +234,8 @@
 };
 #endif
 
-void __init omap2_map_common_io(void)
+static void __init _omap2_map_common_io(void)
 {
-#if defined(CONFIG_ARCH_OMAP2420)
-	iotable_init(omap24xx_io_desc, ARRAY_SIZE(omap24xx_io_desc));
-	iotable_init(omap242x_io_desc, ARRAY_SIZE(omap242x_io_desc));
-#endif
-
-#if defined(CONFIG_ARCH_OMAP2430)
-	iotable_init(omap24xx_io_desc, ARRAY_SIZE(omap24xx_io_desc));
-	iotable_init(omap243x_io_desc, ARRAY_SIZE(omap243x_io_desc));
-#endif
-
-#if defined(CONFIG_ARCH_OMAP34XX)
-	iotable_init(omap34xx_io_desc, ARRAY_SIZE(omap34xx_io_desc));
-#endif
-
-#if defined(CONFIG_ARCH_OMAP4)
-	iotable_init(omap44xx_io_desc, ARRAY_SIZE(omap44xx_io_desc));
-#endif
 	/* Normally devicemaps_init() would flush caches and tlb after
 	 * mdesc->map_io(), but we must also do it here because of the CPU
 	 * revision check below.
@@ -266,6 +249,40 @@
 	omap_vram_reserve_sdram();
 }
 
+#ifdef CONFIG_ARCH_OMAP2420
+void __init omap242x_map_common_io()
+{
+	iotable_init(omap24xx_io_desc, ARRAY_SIZE(omap24xx_io_desc));
+	iotable_init(omap242x_io_desc, ARRAY_SIZE(omap242x_io_desc));
+	_omap2_map_common_io();
+}
+#endif
+
+#ifdef CONFIG_ARCH_OMAP2430
+void __init omap243x_map_common_io()
+{
+	iotable_init(omap24xx_io_desc, ARRAY_SIZE(omap24xx_io_desc));
+	iotable_init(omap243x_io_desc, ARRAY_SIZE(omap243x_io_desc));
+	_omap2_map_common_io();
+}
+#endif
+
+#ifdef CONFIG_ARCH_OMAP34XX
+void __init omap34xx_map_common_io()
+{
+	iotable_init(omap34xx_io_desc, ARRAY_SIZE(omap34xx_io_desc));
+	_omap2_map_common_io();
+}
+#endif
+
+#ifdef CONFIG_ARCH_OMAP4
+void __init omap44xx_map_common_io()
+{
+	iotable_init(omap44xx_io_desc, ARRAY_SIZE(omap44xx_io_desc));
+	_omap2_map_common_io();
+}
+#endif
+
 /*
  * omap2_init_reprogram_sdrc - reprogram SDRC timing parameters
  *
diff --git linux-2.6.33.5/arch/arm/plat-omap/include/plat/io.h linux-2.6.33.5/arch/arm/plat-omap/include/plat/io.h
--- linux-2.6.33.5/arch/arm/plat-omap/include/plat/io.h
+++ linux-2.6.33.5/arch/arm/plat-omap/include/plat/io.h
@@ -268,7 +268,38 @@
 extern void omap1_map_common_io(void);
 extern void omap1_init_common_hw(void);
 
-extern void omap2_map_common_io(void);
+#ifdef CONFIG_ARCH_OMAP2420
+extern void omap242x_map_common_io(void);
+#else
+static inline void omap242x_map_common_io(void)
+{
+}
+#endif
+
+#ifdef CONFIG_ARCH_OMAP2430
+extern void omap243x_map_common_io(void);
+#else
+static inline void omap243x_map_common_io(void)
+{
+}
+#endif
+
+#ifdef CONFIG_ARCH_OMAP34XX
+extern void omap34xx_map_common_io(void);
+#else
+static inline void omap34xx_map_common_io(void)
+{
+}
+#endif
+
+#ifdef CONFIG_ARCH_OMAP4
+extern void omap44xx_map_common_io(void);
+#else
+static inline void omap44xx_map_common_io(void)
+{
+}
+#endif
+
 extern void omap2_init_common_hw(struct omap_sdrc_params *sdrc_cs0,
 				 struct omap_sdrc_params *sdrc_cs1);
 
