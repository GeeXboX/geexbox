diff -Naur mesa-7.1.orig/src/mesa/drivers/directfb/Makefile mesa-7.1/src/mesa/drivers/directfb/Makefile
--- mesa-7.1.orig/src/mesa/drivers/directfb/Makefile	2008-08-30 17:04:52.000000000 +0200
+++ mesa-7.1/src/mesa/drivers/directfb/Makefile	2008-08-30 17:12:21.000000000 +0200
@@ -25,7 +25,7 @@
 
 DIRECTFBGL_MESA = libidirectfbgl_mesa.so
 
-LIBS = $(TOP)/src/mesa/libmesa.a $(TOP)/src/mesa/libglapi.a
+LIBS = $(TOP)/src/mesa/libmesa.so $(TOP)/src/mesa/libglapi.so
 
 
 .c.o:
diff -Naur mesa-7.1.orig/src/mesa/drivers/dri/Makefile.template mesa-7.1/src/mesa/drivers/dri/Makefile.template
--- mesa-7.1.orig/src/mesa/drivers/dri/Makefile.template	2008-08-30 17:04:52.000000000 +0200
+++ mesa-7.1/src/mesa/drivers/dri/Makefile.template	2008-08-30 17:07:18.000000000 +0200
@@ -1,6 +1,6 @@
 # -*-makefile-*-
 
-MESA_MODULES = $(TOP)/src/mesa/libmesa.a
+MESA_MODULES = $(TOP)/src/mesa/libmesa.so
 
 COMMON_SOURCES = \
         ../common/utils.c \
@@ -69,7 +69,7 @@
 
 $(LIBNAME): $(OBJECTS) $(MESA_MODULES) $(WINOBJ) Makefile $(TOP)/src/mesa/drivers/dri/Makefile.template
 	$(MKLIB) -o $@ -noprefix -linker '$(CC)' -ldflags '$(LDFLAGS)' \
-		$(OBJECTS) $(MESA_MODULES) $(WINOBJ) $(DRI_LIB_DEPS)
+		$(OBJECTS) $(WINOBJ) $(DRI_LIB_DEPS)
 
 
 $(TOP)/$(LIB_DIR)/$(LIBNAME): $(LIBNAME)
diff -Naur mesa-7.1.orig/src/mesa/drivers/fbdev/Makefile mesa-7.1/src/mesa/drivers/fbdev/Makefile
--- mesa-7.1.orig/src/mesa/drivers/fbdev/Makefile	2008-08-30 17:04:52.000000000 +0200
+++ mesa-7.1/src/mesa/drivers/fbdev/Makefile	2008-08-30 17:08:06.000000000 +0200
@@ -14,7 +14,7 @@
 	-I$(TOP)/src/mesa \
 	-I$(TOP)/src/mesa/main
 
-CORE_MESA = $(TOP)/src/mesa/libmesa.a $(TOP)/src/mesa/libglapi.a
+CORE_MESA = $(TOP)/src/mesa/libmesa.so $(TOP)/src/mesa/libglapi.so
 
 
 .c.o:
@@ -28,7 +28,7 @@
 	@ $(MKLIB) -o $(GL_LIB) -linker '$(CC)' -ldflags '$(LDFLAGS)' \
 		-major $(MESA_MAJOR) -minor $(MESA_MINOR) -patch $(MESA_TINY) \
 		-install $(TOP)/$(LIB_DIR) $(MKLIB_OPTIONS) \
-		$(CORE_MESA) $(OBJECTS) $(GL_LIB_DEPS)
+		$(OBJECTS) $(GL_LIB_DEPS)
 
 
 clean:
diff -Naur mesa-7.1.orig/src/mesa/drivers/osmesa/Makefile mesa-7.1/src/mesa/drivers/osmesa/Makefile
--- mesa-7.1.orig/src/mesa/drivers/osmesa/Makefile	2008-08-30 17:04:52.000000000 +0200
+++ mesa-7.1/src/mesa/drivers/osmesa/Makefile	2008-08-30 17:09:15.000000000 +0200
@@ -19,7 +19,7 @@
 	-I$(TOP)/src/mesa \
 	-I$(TOP)/src/mesa/main
 
-CORE_MESA = $(TOP)/src/mesa/libmesa.a $(TOP)/src/mesa/libglapi.a
+CORE_MESA = $(TOP)/src/mesa/libmesa.so $(TOP)/src/mesa/libglapi.so
 
 
 .PHONY: osmesa8
@@ -61,7 +61,7 @@
 		-major $(MESA_MAJOR) -minor $(MESA_MINOR) -patch $(MESA_TINY) \
 		-install $(TOP)/$(LIB_DIR) $(MKLIB_OPTIONS) \
 		-id $(INSTALL_LIB_DIR)/lib$(OSMESA_LIB).$(MESA_MAJOR).dylib \
-		$(OSMESA_LIB_DEPS) $(OBJECTS) $(CORE_MESA)
+		$(OSMESA_LIB_DEPS) $(OBJECTS)
 
 
 
diff -Naur mesa-7.1.orig/src/mesa/drivers/x11/Makefile mesa-7.1/src/mesa/drivers/x11/Makefile
--- mesa-7.1.orig/src/mesa/drivers/x11/Makefile	2008-08-30 17:04:52.000000000 +0200
+++ mesa-7.1/src/mesa/drivers/x11/Makefile	2008-08-30 17:10:53.000000000 +0200
@@ -43,7 +43,7 @@
 	-I$(TOP)/src/mesa \
 	-I$(TOP)/src/mesa/main
 
-CORE_MESA = $(TOP)/src/mesa/libmesa.a $(TOP)/src/mesa/libglapi.a
+CORE_MESA = $(TOP)/src/mesa/libmesa.so $(TOP)/src/mesa/libglapi.so
 
 
 
@@ -59,7 +59,7 @@
 		-major $(GL_MAJOR) -minor $(GL_MINOR) -patch $(GL_TINY) \
 		-install $(TOP)/$(LIB_DIR) $(MKLIB_OPTIONS) \
 		-id $(INSTALL_LIB_DIR)/lib$(GL_LIB).$(GL_MAJOR).dylib \
-		$(GL_LIB_DEPS) $(OBJECTS) $(CORE_MESA)
+		$(GL_LIB_DEPS) $(OBJECTS)
 
 
 
diff -Naur mesa-7.1.orig/src/mesa/Makefile mesa-7.1/src/mesa/Makefile
--- mesa-7.1.orig/src/mesa/Makefile	2008-08-30 17:04:51.000000000 +0200
+++ mesa-7.1/src/mesa/Makefile	2008-08-30 17:11:54.000000000 +0200
@@ -20,8 +20,8 @@
 
 
 # Default: build dependencies, then asm_subdirs, then convenience
-# libs (.a) and finally the device drivers:
-default: depend asm_subdirs libmesa.a libglapi.a driver_subdirs
+# libs (.so) and finally the device drivers:
+default: depend asm_subdirs libmesa.so libglapi.so driver_subdirs
 
 
 
@@ -29,17 +29,17 @@
 # Helper libraries used by many drivers:
 
 # Make archive of core mesa object files
-libmesa.a: $(MESA_OBJECTS)
-	@ $(MKLIB) -o mesa -static $(MESA_OBJECTS)
+libmesa.so: $(MESA_OBJECTS)
+	@ $(MKLIB) -o mesa -dlopen $(MESA_OBJECTS)
 
 # Make archive of gl* API dispatcher functions only
-libglapi.a: $(GLAPI_OBJECTS)
-	@ $(MKLIB) -o glapi -static $(GLAPI_OBJECTS)
+libglapi.so: $(GLAPI_OBJECTS)
+	@ $(MKLIB) -o glapi -dlopen $(GLAPI_OBJECTS)
 
 
 ######################################################################
 # Device drivers
-driver_subdirs: libmesa.a libglapi.a
+driver_subdirs: libmesa.so libglapi.so
 	(cd drivers && $(MAKE))
 
 
@@ -127,7 +127,7 @@
 clean:
 	-rm -f */*.o
 	-rm -f */*/*.o
-	-rm -f depend depend.bak libmesa.a libglapi.a
+	-rm -f depend depend.bak libmesa.so libglapi.so
 	-rm -f drivers/*/*.o
 	-rm -f *.pc
 	-@cd drivers/dri && $(MAKE) clean
