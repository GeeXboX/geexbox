diff -Naur busybox-1.3.0.orig/include/libbb.h busybox-1.3.0/include/libbb.h
--- busybox-1.3.0.orig/include/libbb.h	2006-12-14 22:58:39.000000000 +0100
+++ busybox-1.3.0/include/libbb.h	2006-12-14 22:59:01.000000000 +0100
@@ -51,7 +51,9 @@
 
 #include "pwd_.h"
 #include "grp_.h"
+#if ENABLE_FEATURE_SHADOWPASSWDS
 #include "shadow_.h"
+#endif
 
 /* Try to pull in PATH_MAX */
 #include <limits.h>
