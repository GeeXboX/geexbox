bind: fix for CVE-2013-2266

Upstream-Status: Backport

libdns in ISC BIND 9.7.x and 9.8.x before 9.8.4-P2, 9.8.5 before 9.8.5b2,
9.9.x before 9.9.2-P2, and 9.9.3 before 9.9.3b2 on UNIX platforms allows
remote attackers to cause a denial of service (memory consumption) via a
crafted regular expression, as demonstrated by a memory-exhaustion attack
against a machine running a named process.

http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2013-2266

Signed-off-by Ming Liu <ming.liu@windriver.com>
---
 config.h.in  |    3 ---
 configure.in |    2 +-
 2 files changed, 1 insertion(+), 4 deletions(-)

--- a/config.h.in
+++ b/config.h.in
@@ -277,9 +277,6 @@ int sigwait(const unsigned int *set, int
 /* Define if your OpenSSL version supports GOST. */
 #undef HAVE_OPENSSL_GOST
 
-/* Define to 1 if you have the <regex.h> header file. */
-#undef HAVE_REGEX_H
-
 /* Define to 1 if you have the `setegid' function. */
 #undef HAVE_SETEGID
 
--- a/configure.in
+++ b/configure.in
@@ -279,7 +279,7 @@ esac
 
 AC_HEADER_STDC
 
-AC_CHECK_HEADERS(fcntl.h regex.h sys/time.h unistd.h sys/sockio.h sys/select.h sys/param.h sys/sysctl.h net/if6.h,,,
+AC_CHECK_HEADERS(fcntl.h sys/time.h unistd.h sys/sockio.h sys/select.h sys/param.h sys/sysctl.h net/if6.h,,,
 [$ac_includes_default
 #ifdef HAVE_SYS_PARAM_H
 # include <sys/param.h>
