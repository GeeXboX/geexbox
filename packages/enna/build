#!/bin/sh

. config/options

$SCRIPTS/build toolchain
$SCRIPTS/build freetype
$SCRIPTS/build evas
$SCRIPTS/build ecore
$SCRIPTS/build embryo
$SCRIPTS/build edje
$SCRIPTS/build curl
$SCRIPTS/build libxml2
$SCRIPTS/build libplayer

cd $BUILD/$1*
./configure --host=$TARGET_NAME \
            --build=$HOST_NAME \
            --prefix=$LIB_PREFIX \
            --exec-prefix=/usr \
            --sysconfdir=/etc \
            --datadir=/usr/share \
            --disable-static \
            --enable-shared \
            --disable-emotion-backend \
            --enable-libplayer-backend \
            --enable-libcurl \
            --enable-libxml2 \
            --disable-lms-module \
            --enable-amazon-module \
            --enable-shoutcast-module \

make

$STRIP src/modules/amazon/.libs/enna_module_amazon.so
$STRIP src/modules/backend/libplayer/.libs/enna_module_libplayer.so
$STRIP src/modules/browser/localfiles/.libs/enna_module_localfiles.so
$STRIP src/modules/browser/shoutcast/.libs/enna_module_shoutcast.so
$STRIP src/modules/browser/netstreams/.libs/enna_module_netstreams.so
$STRIP src/modules/input/lirc/.libs/enna_module_lirc.so
$STRIP src/modules/music/.libs/enna_module_music.so
$STRIP src/modules/photo/.libs/enna_module_photo.so
$STRIP src/modules/video/.libs/enna_module_video.so
$STRIP src/modules/volumes/polling/.libs/enna_module_polling.so
