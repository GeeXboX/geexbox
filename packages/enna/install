#!/bin/sh

install_module () {
  cp $BUILD/$1*/src/modules/$2/$3/.libs/$2_$3.so $INSTALL/usr/lib/enna/modules
}

. config/options

$SCRIPTS/install evas
$SCRIPTS/install ecore
$SCRIPTS/install embryo
$SCRIPTS/install edje
$SCRIPTS/install e_dbus
$SCRIPTS/install elementary
$SCRIPTS/install libxml2
$SCRIPTS/install libplayer
$SCRIPTS/install libvalhalla
$SCRIPTS/install enna-theme
$SCRIPTS/install lirc

mkdir -p $INSTALL/usr/bin
cp $BUILD/$1*/src/bin/enna $INSTALL/usr/bin

mkdir -p $INSTALL/usr/lib/enna/modules

if [ "$GAMES" = yes ]; then
  $SCRIPTS/install efreet
  install_module $1 activity games
fi
install_module $1 activity music
install_module $1 activity photo
install_module $1 activity video
install_module $1 activity weather

install_module $1 backend libplayer

install_module $1 browser dvd
install_module $1 browser localfiles
install_module $1 browser netstreams
install_module $1 browser valhalla

install_module $1 input lirc

install_module $1 metadata amazon
install_module $1 metadata tmdb
install_module $1 metadata tvdb
install_module $1 metadata localfiles
install_module $1 metadata libplayer

install_module $1 volume hal
install_module $1 volume mtab

mkdir -p $INSTALL/etc
cp $PACKAGES/enna/config/enna.cfg $INSTALL/etc
