#!/bin/sh

. config/options

$SCRIPTS/install liboil

GST_VERSION=0.10
GST_PLUGINS_PATH=$INSTALL/usr/lib/gstreamer-$GST_VERSION

gst_install () {
  PLUGIN_NAME="$1"

  mkdir -p $INSTALL/usr/lib
  cp -P $BUILD/gst-plugins-base-*/gst-libs/gst/$PLUGIN_NAME/.libs/libgst${PLUGIN_NAME}-*.so* $INSTALL/usr/lib
}

gst_install_plugin () {
  PLUGIN_PATH="$1"
  PLUGIN_NAME="$2"

  mkdir -p $GST_PLUGINS_PATH
  cp -P $BUILD/gst-plugins-base-*/gst/$PLUGIN_PATH/.libs/libgst${PLUGIN_NAME}.so $GST_PLUGINS_PATH
}

# Core Libraries
gst_install app
gst_install audio
gst_install cdda
gst_install fft
gst_install interfaces
gst_install netbuffer
gst_install pbutils
gst_install riff
gst_install rtp
gst_install rtsp
gst_install sdp
gst_install tag
gst_install video

# Plugins
gst_install_plugin audioconvert audioconvert
gst_install_plugin audiorate audiorate
gst_install_plugin audioresample audioresample
gst_install_plugin audiotestsrc audiotestsrc
gst_install_plugin ffmpegcolorspace ffmpegcolorspace
gst_install_plugin playback decodebin2
gst_install_plugin playback decodebin
gst_install_plugin playback playbin
gst_install_plugin subparse subparse
gst_install_plugin tcp tcp
gst_install_plugin typefind typefindfunctions
gst_install_plugin videorate videorate
gst_install_plugin videoscale videoscale
gst_install_plugin videotestsrc videotestsrc
gst_install_plugin volume volume
