#!/bin/sh

. config/options

$SCRIPTS/install expat
$SCRIPTS/install GLib
$SCRIPTS/install dbus-glib

mkdir -p $INSTALL/var/run/hal
mkdir -p $INSTALL/var/run/hald
mkdir -p $INSTALL/var/cache/hald
mkdir -p $INSTALL/var/lib/hal

mkdir -p $INSTALL/usr/bin
cp $BUILD/$1*/hald/hald $INSTALL/usr/bin/
cp $BUILD/$1*/tools/.libs/lshal $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-get-property $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-set-property $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-find-by-capability $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-find-by-property $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-device $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-is-caller-locked-out $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-lock $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-disable-polling $INSTALL/usr/bin
cp $BUILD/$1*/hald/linux/probing/.libs/hald-probe-* $INSTALL/usr/bin
cp $BUILD/$1*/hald/linux/addons/.libs/hald-addon-* $INSTALL/usr/bin
cp $BUILD/$1*/hald-runner/hald-runner $INSTALL/usr/bin
cp $BUILD/$1*/hald/hald-generate-fdi-cache $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-storage-mount $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-storage-eject $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-storage-closetray $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-storage-cleanup-mountpoint $INSTALL/usr/bin
cp $BUILD/$1*/tools/.libs/hal-storage-cleanup-all-mountpoints $INSTALL/usr/bin
cp $BUILD/$1*/tools/hal-functions $INSTALL/usr/bin

mkdir -p $INSTALL/usr/lib
cp -P $BUILD/$1*/libhal/.libs/libhal.so* $INSTALL/usr/lib
cp -P $BUILD/$1*/libhal-storage/.libs/libhal-storage.so* $INSTALL/usr/lib

mkdir -p $INSTALL/etc/hal/fdi/preprobe
mkdir -p $INSTALL/etc/hal/fdi/information
mkdir -p $INSTALL/etc/hal/fdi/policy

mkdir -p $INSTALL/etc/udev/rules.d
cp $BUILD/$1*/tools/linux/90-hal.rules $INSTALL/etc/udev/rules.d

mkdir -p $INSTALL/etc/dbus-1/system.d
cp $BUILD/$1*/hal.conf $INSTALL/etc/dbus-1/system.d

mkdir -p $INSTALL/usr/share/hal/fdi/preprobe
mkdir -p $INSTALL/usr/share/hal/fdi/information/10freedesktop
mkdir -p $INSTALL/$XORG_PATH_FDI/10osvendor
cp $BUILD/$1*/fdi/information/10freedesktop/*.fdi \
   $INSTALL/usr/share/hal/fdi/information/10freedesktop
cp $BUILD/$1*/fdi//policy/10osvendor/*.fdi \
   $INSTALL/$XORG_PATH_FDI/10osvendor
