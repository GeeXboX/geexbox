#
# Note to packagers:
#  - grab xbmc sources from http://mirrors.xbmc.org/releases/source/
#  - bootstrap
#  - package
#

PKG_NAME=xbmc
PKG_VERSION=pvr-20120711-git71d53d1
PKG_URL="$DISTRO_SRCS/$PKG_NAME-${PKG_VERSION}.tar.xz"
PKG_REV=1
PKG_DEPENDS="$TARGET_LIBC Python boost zlib bzip2 lzo pcre libssh libass enca curl dbus fontconfig fribidi libjpeg-turbo libpng tiff freetype jasper libmad libsamplerate libogg libvorbis libcdio libmms libmodplug faad2 flac wavpack libmpeg2 sqlite alsa yajl libplist openssl python-simplejson tinyxml systemd"
PKG_RUN_DEPENDS="libmysqlclient libsmbclient"
PKG_BUILD_DEPENDS="toolchain boost mysql samba unzip zip"
PKG_USE="opengl opengles openmax joystick zeroconf webserver vdpau xvba vaapi crystalhd pulseaudio dvdcss bluray rtmp nonfree externalffmpeg externalffmpeglibav pvr addons libcec libnfs afpclient airtunes screensavers dove gstreamer xorg sdl alsa"
PKG_DEPENDS_opengl="mesa"
PKG_USE_DEFAULT_opengl=yes
PKG_BUILD_DEPENDS_opengles="OpenGLES"
PKG_BUILD_DEPENDS_openmax="OpenMAX"
PKG_USE_DESC_joystick="Enable Joystick support"
PKG_USE_DESC_faac="Enable AAC encoding support"
PKG_USE_DESC_webserver="Enable Web Server support"
PKG_DEPENDS_webserver="libmicrohttpd"
PKG_DEPENDS_vdpau="libvdpau"
PKG_DEPENDS_xvba="libva-xvba"
PKG_DEPENDS_vaapi="libva"
PKG_DEPENDS_zeroconf="avahi"
PKG_DEPENDS_crystalhd="crystalhd"
PKG_DEPENDS_pulseaudio="pulseaudio"
PKG_USE_DESC_nonfree="Enable Non-Free modules"
PKG_DEPENDS_bluray="libbluray"
PKG_USE_DESC_rtmp="Enable RTMP support"
PKG_DEPENDS_rtmp="rtmpdump"
PKG_DEPENDS_externalffmpeg="ffmpeg"
PKG_DEPENDS_externalffmpeglibav="libav"
PKG_DEPENDS_pvr="pvr"
PKG_DEPENDS_addons="xbmc-addon-geexbox-network xbmc-addon-geexbox-updater"
PKG_DEPENDS_libcec="libcec"
PKG_DEPENDS_libnfs="libnfs"
PKG_DEPENDS_afpclient="afpfs-ng"
PKG_DEPENDS_airtunes="libshairport"
PKG_BUILD_DEPENDS_dove="marvell-ipp"
PKG_DEPENDS_dove="libgles-gc"
PKG_DEPENDS_gstreamer="gstreamer gst-plugins-base"
PKG_DEPENDS_xorg="libX11 libXext libXt libXtst libXmu libXrandr libXinerama glew"
PKG_RUN_DEPENDS_xorg="mesa-demos xdpyinfo"
PKG_DEPENDS_sdl="SDL SDL-mixer SDL-image"
PKG_DEPENDS_alsa="alsa-lib"

PKG_PRIORITY=optional
PKG_SECTION=multimedia
PKG_SHORTDESC="XBMC MediaCenter"
PKG_LONGDESC="XBMC Media Center (which was formerly named Xbox Media Center) is a free and open source cross-platform media player and home entertainment system software with a 10-foot user interface designed for the living-room TV. Its graphical user interface allows the user to easily manage video, photos, podcasts, and music from a computer, optical disk, local network, and the internet using a remote control."
